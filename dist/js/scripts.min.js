let pokemonRepository=function(){let e=[];function t(t){if("object"!=typeof t||!t.name||!t.detailsUrl)return`${t} is not a Pok\xe9mon. Pok\xe9mon must be an object with the keys name, height and type`;e.push(t)}function n(){return e}function o(){let e=document.querySelector("#messages"),t=document.createElement("span");t.id="loading",t.innerText="Loading...",e.appendChild(t)}function i(){let e=document.querySelector("#loading");e.parentElement.removeChild(e)}return{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li"),i=document.createElement("button");o.classList.add("group-list-item"),i.innerText=t.name,i.classList.add("pokemon-button","btn"),i.setAttribute("data-bs-toggle","modal"),i.setAttribute("data-bs-target","#pokeModal"),o.appendChild(i),n.appendChild(o),i.addEventListener("click",function(){(function e(t){pokemonRepository.loadDetails(t).then(function(){var e;let n,o,i,a,r;e=t,n=document.querySelector(".modal-title"),o=document.querySelector(".modal-body"),n.innerText="",o.innerText="",i=document.createElement("h1"),i.innerText=e.name,a=document.createElement("p"),a.innerText="Height: "+e.height,r=document.createElement("img"),r.classList.add("modal-image"),r.src=e.imageUrl,n.appendChild(i),o.appendChild(a),o.appendChild(r)})})(t)})},loadList:function e(){return o(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})}),i()}).catch(function(e){console.error(e),i()})},loadDetails:function e(t){return o(),fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.type=e.types,i()}).catch(function(e){console.error(e),i()})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function e(t){pokemonRepository.addListItem(t)})});